<!DOCTYPE html>
<html>
  <head>
    <!-- implement ajax into the html page -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset=utf-8>
    <title>Subscription Form</title>
    <link rel="stylesheet" type= "text/css" href= "../static/styles.css">
</head>
<body>
    <div class="container">
        <!-- The id is the feature that allows us to access the form from the script -->
        <div class="card">
            <div class="card-image">	
                <h2 class="card-heading">
                    Daily Motivation &#128513;
                    <small>Free inspirational quotes</small>
                </h2>
            </div>
            <form id ="form" class="card-form"  >
                <div class="input">
                    <input type="text" class="input-field" id="name" required/>
                    <label class="input-label">Full name</label>
                </div>
                            <div class="input">
                    <input type="text" class="input-field"  id="email"required/>
                    <label class="input-label">Email</label>
                </div>
                <div class="input">
                    <input type="text" class="input-field" id="message"required/>
                    <label class="input-label">Message</label>
                </div>
                <div class="action">
                    <button class="action-button">Sign me up!</button>
                </div>
            </form>
            <div class="card-info">
            <!-- AJAX script that activates on submission of the form and takes the value of the inputs in the form and sends it to flask application -->
                <script type="text/javascript">
                    $(document).ready(function() {
                      $('#form').on('submit',function(e){
                        $.ajax({
                          data : {
                            name : $('#name').val(), 
                            email : $('#email').val(),
                            message : $('#message').val()
                          },
                          type : 'POST',
                          url : '/'
                        })
                        .done(function(data){
                          $('#output').text(data.output).show();
                        });
                        e.preventDefault();
                      });
                    });
                </script>
                <div id="output"></div> <!-- return value on submission of the form is replaced in this div-->
            </div>
        </div>
    </div>
</body>
</html>